import asyncio
import logging
import sys

# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ aiogram
from aiogram import Bot, Dispatcher, types
from aiogram.filters import CommandStart
from aiogram.types import Message

# --- –í–ù–ò–ú–ê–ù–ò–ï: –°–Æ–î–ê –í–°–¢–ê–í–õ–Ø–ï–ú –¢–û–ö–ï–ù ---
# –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É –Ω–∏–∂–µ –∏ –∑–∞–º–µ–Ω–∏ —Ç–µ–∫—Å—Ç –≤–Ω—É—Ç—Ä–∏ –∫–∞–≤—ã—á–µ–∫ –Ω–∞ —Å–≤–æ–π —Ç–æ–∫–µ–Ω –æ—Ç BotFather
TOKEN = "8490053226:AAGd5t4HAHYcdsCwmjqBQknYxqOEbDf-1sA" 

# –°–æ–∑–¥–∞–µ–º –¥–∏—Å–ø–µ—Ç—á–µ—Ä (–æ–Ω —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è)
dp = Dispatcher()

# 1. –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—É /start
@dp.message(CommandStart())
async def command_start_handler(message: Message):
    user_name = message.from_user.full_name
    await message.answer(f"–ü—Ä–∏–≤–µ—Ç, {user_name}! –Ø —Ä–∞–±–æ—Ç–∞—é –Ω–∞ —Ç–≤–æ–µ–º iPad! üöÄ")

# 2. –§—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –õ–Æ–ë–û–ô —Ç–µ–∫—Å—Ç (—ç—Ö–æ)
@dp.message()
async def echo_handler(message: Message):
    # –ú—ã –ø—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ç–æ—Ç –∂–µ —Ç–µ–∫—Å—Ç –æ–±—Ä–∞—Ç–Ω–æ
    await message.answer(f"–¢—ã –Ω–∞–ø–∏—Å–∞–ª: {message.text}")

# –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞
async def main():
    bot = Bot(token=TOKEN)
    # –ó–∞–ø—É—Å–∫–∞–µ–º –±–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
    await dp.start_polling(bot)

if __name__ == "__main__":
    logging.basicConfig(level=logging.INFO, stream=sys.stdout)
    try:
        asyncio.run(main())
    except KeyboardInterrupt:
        print("–ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω")